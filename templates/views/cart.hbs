<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Dashboard</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  body { font-family: 'Open Sans', sans-serif; background-color: #f9f9f9; color: #333; }
  .header { background-color: #5D5C61; padding: 20px; color: #fff; text-align: center; border-radius: 8px 8px 0 0; }
  .cont { max-width: 1000px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
  .section-heading { color: #FF652F; margin: 20px 0; font-style:italic }
  .course-section { padding: 20px; }
  .course-card { background-color: #f4f4f4; border-radius: 4px; padding: 20px; margin-bottom: 20px; }
  .fit-img { border-radius: 4px; }
  .fw-bold { font-weight: 600; }
  .btn-checkout { background-color: #FF652F; color: #fff; border: none; border-radius: 4px; padding: 10px 20px; cursor: pointer; transition: background-color 0.3s; }
  .btn-checkout:hover { background-color: #FF3C20; }
  .no-courses { text-align: center; padding: 20px; }
</style>
</head>
<body>
    <!-- Header -->
    {{>header}}
    <div class="m-4">
        <a class="text-primary text-decoration-none fs-5 fw-bold" href="/">Home /</a>
        <a class="text-secondary text-decoration-none fs-5 fw-bold" href="#">cart</a>
    </div>
    <div class="cont">
        <div class="header">
        <h2 class="head">Your Cart</h2>
    </div>
        <!-- User details -->
        {{#if userDetail.length}}
        {{#each userDetail}}
        <h3 class="fw-bold text-center pt-4">Hello, <span class="typing-name">{{this.firstname}}</span></h3>
        <h2 class="fw-bold"><span class="typing-welcome"></span></h2>
        <h4 class="section-heading text-center">Your Registered Courses</h4>
        {{/each}}
        {{/if}}

        <main>
            <!-- Beginner Courses -->
            {{#if beginnerCourses.length}}
            <div class="course-section">
                <h4 class="section-heading">Beginner Courses</h4>
                <div class="row">
                    {{#each beginnerCourses}}
                    <div class="col-md-4">
                        <div class="course-card">
                            <div class="mb-4"><img class="fit-img rounded-4 w-100" src="{{this.img}}" alt=""></div>

                            <h3 class="fw-bold">{{this.course}}</h3>
                            <span class="fw-bold">Name: {{this.firstname}} {{this.lastname}}</span><br>
                            <span class="fw-bold">Level: {{this.level}}</span><br>
                            <span class="fw-bold">Package: {{this.package}}</span><br>
                            <p class="mt-4">Timings: {{this.timings}}</p>
                            <form action="/transaction" method="get">
                                <input type="hidden" name="course" value="{{this.course}}">
                                <input type="hidden" name="name" value="{{this.firstname}} {{this.lastname}}">
                                <input type="hidden" name="level" value="{{this.level}}">
                                <input type="hidden" name="pack" value="{{this.package}}">
                                <button type="submit" class="btn-checkout fw-bold">Checkout</button>
                                <button class="btn-checkout"><a class="btn-checkout" href="#">Remove</a></button>
                            </form>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
            {{else}}
            <p class="no-courses">No Beginner Courses Registered</p>
            {{/if}}
            {{#if intermediateCourses.length}}
            <div class="course-section">
                <h3 class="section-heading">Intermediate Course</h3>
                <div class="row">
                    {{#each intermediateCourses}}
                    <div class="col-md-6">
                        <div class="course-card">
                            <div class="mb-4"><img class="fit-img rounded-4 w-100" src="{{this.img}}" alt=""></div>

                            <h3 class="fw-bold">{{this.course}}</h3>
                            <span class="fw-bold">Name: {{this.firstname}} {{this.lastname}}</span><br>
                            <span class="fw-bold">Level: {{this.level}}</span><br>
                            <span class="fw-bold">Package: {{this.package}}</span><br>
                            <p class="mt-4">Timings: {{this.timings}}</p>
                            <form action="/transaction" method="get">
                                <input type="hidden" name="course" value="{{this.course}}">
                                <input type="hidden" name="name" value="{{this.firstname}} {{this.lastname}}">
                                <input type="hidden" name="level" value="{{this.level}}">
                                <input type="hidden" name="pack" value="{{this.package}}">
                                <button type="submit" class="btn-checkout fw-bold">Checkout</button>
                                <a class="btn btn-checkout text-white" href="/removeFromCart">Remove</a>
                            </form>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
            {{else}}
            <p class="no-courses">No Intermediate Level Course Registered</p>
            {{/if}}
            {{#if advanceCourses.length}}
            <div class="course-section">
                <h3 class="section-heading">Advance Course</h3>
                <div class="row">
                    {{#each advanceCourses}}
                    <div class="col-md-6">
                        <div class="course-card">
                            <div class="mb-4"><img class="fit-img rounded-4 w-100" src="{{this.img}}" alt=""></div>

                            <h3 class="fw-bold">{{this.course}}</h3>
                            <span class="fw-bold">Name: {{this.firstname}} {{this.lastname}}</span><br>
                            <span class="fw-bold">Level: {{this.level}}</span><br>
                            <span class="fw-bold">Package: {{this.package}}</span><br>
                            <p class="mt-4">Timings: {{this.timings}}</p>
                            <form action="/transaction" method="get">
                                <input type="hidden" name="course" value="{{this.course}}">
                                <input type="hidden" name="name" value="{{this.firstname}} {{this.lastname}}">
                                <input type="hidden" name="level" value="{{this.level}}">
                                <input type="hidden" name="pack" value="{{this.package}}">
                                <button type="submit" class="btn-checkout fw-bold">Checkout</button>
                                <a class="btn btn-checkout text-white" href="/removeFromCart">Remove</a>
                            </form>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
            {{else}}
            <p class="no-courses">No Advance Level Course Registered</p>
            {{/if}}
        </main>
    </div>
    {{>footer}}
    <script src="/js/script.js"></script>
</body>
</html>
